<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <record id="email_template_edi_invoice_tameson" model="mail.template">
            <field name="name">Invoice: Send by email - Tameson</field>
            <field name="model_id" ref="account.model_account_move"/>
            <field name="email_from">${(object.invoice_user_id.email_formatted or user.email_formatted) |safe}</field>
            <field name="partner_to">${object.partner_id.id}</field>
            <field name="subject">${object.company_id.name} Invoice (Ref ${object.name or 'n/a'})</field>
            <field name="body_html" type="html">
<div style="font-family: 'Lucida Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px; color: rgb(34, 34, 34); background-color: #FFF; ">
Dear 
% if object.partner_id.parent_id:
    ${object.partner_id.name} (${object.partner_id.parent_id.name}),
% else:
    ${object.partner_id.name},
% endif
<br/><br/>
    <p>Here is your new invoice: </p>
    <br/>
    <p style="border-left: 1px solid #8e0000; margin-left: 30px; padding-left: 5px;">
       <strong>REFERENCES</strong><br />
       Invoice Number : <strong>${object.name}</strong><br />
       Total Amount: <strong>${object.amount_total} ${object.currency_id.name}</strong><br />
       Invoice Date: ${object.invoice_date}<br />
       % if object.origin:
       Origin: ${object.origin}<br />
       % endif
    </p>
    <br/>
    <p>
        % set ref = object.get_so_ref()
        % if ref:
            <span>Order message: ${ref} </span>
            <br/>
        % endif
        
        % if object.invoice_payment_state != 'paid' and object.payment_term_id:
            <span>Payment term: ${object.payment_term_id.name}</span>
            <br/>
        % endif

        % if object.invoice_payment_state == 'paid':
            <strong>Notice: This invoice has been paid.</strong>
            <br/>
        % endif
    </p>
    <br/>
    <p>Do not hesitate to contact us if you have any questions.</p>
    <p>Thank You for choosing ${object.company_id.name or 'us'}</p>
    <br/>
    <br/>
</div>
            </field>
            <field name="report_template" ref="account.account_invoices"/>
            <field name="report_name">Invoice_${(object.name or '').replace('/','_')}${object.state == 'draft' and '_draft' or ''}</field>
            <field name="lang">${object.partner_id.lang}</field>
            <field name="user_signature" eval="False"/>
            <field name="auto_delete" eval="True"/>
        </record>
    </data>
</odoo>
