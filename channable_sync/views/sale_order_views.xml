<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="sale_order_form_inherit_channable" model="ir.ui.view">
        <field name="name">sale.order.form.inherit.channable</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form" />
        <field name="arch" type="xml">
            <xpath expr=".//notebook" position="inside">
                <page
          string="Channable"
          attrs="{'invisible': [('channable_order_id', '=', False)]}"
        >
                    <div class="oe_button_box" name="button_box">
                        <button
              name="action_view_in_channable"
              type="object"
              icon="fa-bars"
              string="View In Channable"
            />
                        <button
              name="action_force_update_channable"
              type="object"
              icon="fa-check"
              string="Force Shipped In Channable"
              confirm="Are you sure?"
            />
                        <button
              name="action_force_cancel_channable"
              type="object"
              icon="fa-cancel"
              string="Force Cancel In Channable"
              confirm="Are you sure?"
            />
                    </div>
                    <group>
                        <field name="channable_order_id" readonly="1" />
                        <field
              name="channable_order_status"
              readonly="1"
              string="Channable Status"
            />
                        <field name="channable_extra_info" />
                    </group>
                </page>
            </xpath>
        </field>
    </record>
    <record id="view_channable_quotation_tree" model="ir.ui.view">
        <field name="name">sale.order.channable.tree</field>
        <field name="model">sale.order</field>
        <field name="priority">5</field>
        <field name="arch" type="xml">
            <tree
        string="Quotation"
        class="o_sale_order"
        decoration-bf="message_needaction==True"
        decoration-muted="state=='cancel'"
        multi_edit="1"
      >
                <field name="message_needaction" invisible="1" />
                <field name="channable_order_id" readonly="1" />
                <field name="name" string="Quotation Number" readonly="1" />
                <field name="create_date" string="Create Date" />
                <field name="commitment_date" />
                <field name="expected_date" />
                <field name="partner_id" readonly="1" />
                <field name="user_id" optional="show" />
                <field name="team_id" optional="hide" />
                <field
          name="company_id"
          groups="base.group_multi_company"
          optional="show"
          readonly="1"
        />
                <field
          name="amount_untaxed"
          sum="Total Tax Excluded"
          widget="monetary"
          optional="hide"
        />
                <field
          name="amount_tax"
          sum="Tax Total"
          widget="monetary"
          optional="hide"
        />
                <field
          name="amount_total"
          sum="Total Tax Included"
          widget="monetary"
          optional="show"
        />
                <field name="currency_id" invisible="1" />
                <field name="state" optional="show" />
                <field name="invoice_status" optional="hide" />
                <field
          name="activity_exception_decoration"
          widget="activity_exception"
        />
            </tree>
        </field>
    </record>

    <record id="action_orders_channable" model="ir.actions.act_window">
        <field name="name">Channable Orders</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">sale.order</field>
        <field name="view_id" ref="view_channable_quotation_tree" />
        <field name="view_mode">tree,kanban,form,calendar,pivot,graph,activity</field>
        <field
      name="search_view_id"
      ref="sale.sale_order_view_search_inherit_quotation"
    />
        <field name="context">{}</field>
        <field name="domain">[('channable_order_id', '!=', False)]</field>
    </record>
    <record id="action_orders_channable_to_shipped" model="ir.actions.act_window">
        <field name="name">Channable Orders To Be Updated As Shipped</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">sale.order</field>
        <field name="view_id" ref="view_channable_quotation_tree" />
        <field name="view_mode">tree,kanban,form,calendar,pivot,graph,activity</field>
        <field
      name="search_view_id"
      ref="sale.sale_order_view_search_inherit_quotation"
    />
        <field name="context">{}</field>
        <field
      name="domain"
    >[('channable_order_id', '!=', False), ('channable_to_update_shipped', '=', True)]</field>
    </record>
    <record id="action_orders_channable_to_cancel" model="ir.actions.act_window">
        <field name="name">Channable Orders To Be Cancelled</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">sale.order</field>
        <field name="view_id" ref="view_channable_quotation_tree" />
        <field name="view_mode">tree,kanban,form,calendar,pivot,graph,activity</field>
        <field
      name="search_view_id"
      ref="sale.sale_order_view_search_inherit_quotation"
    />
        <field name="context">{}</field>
        <field
      name="domain"
    >[('channable_order_id', '!=', False), ('channable_to_update_cancel', '=', True)]</field>
    </record>
    <record id="action_orders_channable_refused_cancel" model="ir.actions.act_window">
        <field name="name">Refused Cancellations of Channable Orders</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">sale.order</field>
        <field name="view_id" ref="view_channable_quotation_tree" />
        <field name="view_mode">tree,kanban,form,calendar,pivot,graph,activity</field>
        <field
      name="search_view_id"
      ref="sale.sale_order_view_search_inherit_quotation"
    />
        <field name="context">{}</field>
        <field
      name="domain"
    >[('channable_order_id', '!=', False), ('channable_refused_cancellation', '=', True)]</field>
    </record>

</odoo>
